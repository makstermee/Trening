<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Plan Treningowy</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Biblioteki Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

  <!-- Konfiguracja Firebase -->
  <script>
    const firebaseConfig = {
      apiKey: "API_KEY_HERE",
      authDomain: "plan-treningowy.firebaseapp.com",
      projectId: "plan-treningowy",
      storageBucket: "plan-treningowy.appspot.com",
      messagingSenderId: "SENDER_ID_HERE",
      appId: "APP_ID_HERE",
      measurementId: "MEASUREMENT_ID_HERE"
    };

    // Inicjalizacja Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
  </script>
</head>
<body>
  <!-- Sekcja logowania -->
  <div id="auth-container">
    <div id="login-form">
      <h2>Logowanie</h2>
      <input type="email" id="login-email" placeholder="Email">
      <input type="password" id="login-password" placeholder="Hasło">
      <button onclick="signIn()">Zaloguj się</button>
      <button onclick="toggleRegisterForm()">Zarejestruj się</button>
    </div>

    <div id="register-form" style="display: none;">
      <h2>Rejestracja</h2>
      <input type="text" id="register-name" placeholder="Imię">
      <input type="text" id="register-surname" placeholder="Nazwisko">
      <input type="email" id="register-email" placeholder="Email">
      <input type="password" id="register-password" placeholder="Hasło">
      <input type="password" id="confirm-password" placeholder="Potwierdź hasło">
      <button onclick="signUp()">Zarejestruj</button>
      <button onclick="toggleRegisterForm()">Anuluj</button>
    </div>

    <p id="login-info" class="info-message"></p>
    <p id="login-error" class="error-message"></p>
  </div>

  <!-- Sekcja planu treningowego -->
  <div class="container">
    <button class="logout-btn" onclick="signOut()">Wyloguj</button>
    <h1>Plan Treningowy</h1>

    <!-- Nawigacja po dniach tygodnia -->
    <nav>
      <select id="day-selector" onchange="showSection()">
        <option value="" disabled selected>Wybierz dzień</option>
        <option value="monday">Poniedziałek</option>
        <option value="tuesday">Wtorek</option>
        <option value="wednesday">Środa</option>
        <option value="thursday">Czwartek</option>
        <option value="friday">Piątek</option>
        <option value="saturday">Sobota</option>
        <option value="sunday">Niedziela</option>
        <option value="history">Historia</option>
      </select>
    </nav>

    <!-- Sekcje dla każdego dnia tygodnia -->
    <div id="monday" class="day-section hidden">
      <h2>Poniedziałek</h2>
      <div class="muscle-group">
        <label for="monday-muscle-group">Partia mięśniowa:</label>
        <input type="text" id="monday-muscle-group" placeholder="Wpisz partię mięśniową" oninput="saveMuscleGroups()" />
      </div>
      <div class="cards-container" id="monday-cards"></div>
      <div class="exercise-form">
        <h3>Dodaj nowe ćwiczenie</h3>
        <label>Ćwiczenie</label>
        <input type="text" id="monday-exercise" placeholder="np. Przysiad" />
        <label>Serie</label>
        <input type="number" id="monday-series" placeholder="np. 4" />
        <label>Powtórzenia</label>
        <input type="number" id="monday-reps" placeholder="np. 12" />
        <label>Ciężar (kg)</label>
        <input type="number" id="monday-weight" placeholder="np. 80" />
        <label>Notatki</label>
        <input type="text" id="monday-notes" placeholder="opcjonalne" />
        <div class="button-group">
          <button onclick="addCard('monday')" id="monday-add-btn">Dodaj ćwiczenie</button>
          <button onclick="cancelEdit('monday')" id="monday-cancel-btn" class="hidden">Anuluj</button>
        </div>
      </div>
      <div class="action-buttons">
        <button class="btn-save" onclick="saveToHistory('monday')">Zapisz Dane</button>
        <button class="btn-reset" onclick="resetCards('monday')">Reset</button>
      </div>
    </div>

    <!-- Powtórz powyższą sekcję dla każdego dnia tygodnia -->
    <!-- Wtorek -->
    <div id="tuesday" class="day-section hidden">
      <!-- Zawartość taka sama jak dla Poniedziałku -->
    </div>
    <div id="wednesday" class="day-section hidden">
      <!-- Zawartość taka sama jak dla Poniedziałku -->
    </div>
    <div id="thursday" class="day-section hidden">
      <!-- Zawartość taka sama jak dla Poniedziałku -->
    </div>
    <div id="friday" class="day-section hidden">
      <!-- Zawartość taka sama jak dla Poniedziałku -->
    </div>
    <div id="saturday" class="day-section hidden">
      <!-- Zawartość taka sama jak dla Poniedziałku -->
    </div>
    <div id="sunday" class="day-section hidden">
      <!-- Zawartość taka sama jak dla Poniedziałku -->
    </div>

    <!-- Historia -->
    <div id="history" class="day-section hidden">
      <h2>Historia zapisanych treningów</h2>
      <div class="filters">
        <label for="filter-day">Wybierz dzień tygodnia:</label>
        <select id="filter-day" onchange="showDatesForDay()">
          <option value="" disabled selected>Wybierz dzień</option>
          <option value="Poniedziałek">Poniedziałek</option>
          <option value="Wtorek">Wtorek</option>
          <option value="Środa">Środa</option>
          <option value="Czwartek">Czwartek</option>
          <option value="Piątek">Piątek</option>
          <option value="Sobota">Sobota</option>
          <option value="Niedziela">Niedziela</option>
        </select>
      </div>
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Data</th>
              <th>Dzień</th>
              <th>Ćwiczenie</th>
              <th>Serie</th>
              <th>Powtórzenia</th>
              <th>Ciężar (kg)</th>
              <th>Notatki</th>
              <th>Akcje</th>
            </tr>
          </thead>
          <tbody id="history-table-body">
            <!-- Wiersze tabeli generowane dynamicznie -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
